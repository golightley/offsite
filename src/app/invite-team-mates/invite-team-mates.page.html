<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Invite Team</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card *ngIf="stage=='team'" padding>
    <div class="title">What would you like to name your team?</div>
    <ion-list class="list-members" lines="none" inset>
      <ion-row align-items-center>
        <ion-col size="12">
          <div class="component-container">
            <ion-input placeholder="IBM Strategy Team" [(ngModel)]="createTeam"></ion-input>
          </div>
        </ion-col>
      </ion-row>
    </ion-list>
    <div text-center style="width: 100%">
      <ion-button fill="clear" color="success" (click)="onClickBtnAddMember()">
        Join an existing team
      </ion-button>
    </div>
  </ion-card>
  <ion-card *ngIf="stage=='join'" padding>
      <div class="title">Please enter the team code below</div>
      <ion-list class="list-members" lines="none" inset>
        <ion-row align-items-center>
          <ion-col size="12">
            <div class="component-container">
              <ion-input placeholder="IBM Strategy Team" [(ngModel)]="teamCode"></ion-input>
            </div>
          </ion-col>
        </ion-row>
      </ion-list>
      <div text-center style="width: 100%">
        <ion-button fill="clear" color="success" (click)="joinTeam()">
          Join an existing team
        </ion-button>
      </div>
    </ion-card>
    <ion-card *ngIf="stage=='alreadyInvited'" padding>
      <div class="title">You have been invited to join {{invitedToTeamName}}</div>
    </ion-card>
  <ion-card *ngIf="stage=='invite'" padding>
      <div class="title">Which team members do you want to invite?</div>
      <ion-list class="list-members" lines="none" inset>
        <ion-row *ngFor="let member of aryMembers; let i = index" align-items-center>
          <ion-col size="10">
            <div class="component-container">
              <ion-input inputmode="email" placeholder="name@company.com" [(ngModel)]="member.email" autocapitalize="off"></ion-input>
            </div>
          </ion-col>
          <ion-col size="2">
            <ion-button class="button-remove" fill="clear" [hidden]="2 > aryMembers.length" (click)="onClickBtnRemoveMember(i)">
              <ion-icon name="close" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-list>
      <div text-center style="width: 100%">
        <ion-button fill="clear" color="success" (click)="onClickBtnAddMember()">
          + Add another
        </ion-button>
      </div>
    </ion-card>
  <ion-list *ngIf="stage=='invite'" lines="none" class="anonymous">
    <ion-item>
      <ion-checkbox [(ngModel)]="isAnonymously" color="success"></ion-checkbox>
      <ion-label>Send invitation anonymously</ion-label>
    </ion-item>
  </ion-list>
  <ion-button  *ngIf="stage=='team'" class="button-invite" expand="block" (click)="onClickCreateTeam()">
      Create team
  </ion-button>
  <ion-button  *ngIf="stage=='alreadyInvited'" class="button-invite" expand="block" (click)="alreadyJoinedATeam()">
    Next
</ion-button>
    <ion-button  *ngIf="stage=='join'" class="button-invite" expand="block" (click)="joinTeamWithCode()">
        Join team
      </ion-button>
  <ion-button  *ngIf="stage=='invite'" class="button-invite" expand="block" (click)="onClickBtnInvite()">
    Send invites
  </ion-button>
  <ion-button class="button-skip" expand="block" fill="clear" (click)="skipInvites()">
    Skip
  </ion-button>
</ion-content>
